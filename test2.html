<!DOCTYPE html>
<html>
<head>
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js" type="text/javascript"></script>
    <script type="text/javascript">
        var theta = 30;
        var cannonHeight = 30;
        var launchForce = 20000;
        var mass = 100;
        var v = 0; //initial velocity
        var gravity = 9.8; 
        var duration = 0;

        var yCoor = 0
        var xCoor = 0;

        var launchAngle = theta * (Math.PI/180);
        v = launchForce/mass;

        //yCoor = (xCoor * Math.tan(launchAngle)) - ((gravity * xCoor * xCoor)/((2 * v * v) * Math.cos(launchAngle) * Math.cos(launchAngle)));
        console.log("launch angle: " + launchAngle);
        console.log("Force: " + launchForce);
        console.log("Initial velocity: " + v);
        function moveElementAlongParabola(elementID) {
            let element = document.getElementById(elementID);
            const startX = element.getBoundingClientRect().left;
            const startY = element.getBoundingClientRect().top;
            let startTime = null;
            
            function animate(currentTime) {
                if (startTime === null) startTime = currentTime;

                const elapsedTime = (currentTime - startTime)/100;


                const yCoor = (v * Math.sin(launchAngle) * elapsedTime) - (.5 * gravity * elapsedTime * elapsedTime);
                const xCoor = v * Math.cos(launchAngle) * elapsedTime;
                console.log("(" + xCoor + "," + yCoor + ")");

                element.style.left = (startX + xCoor) + "px";
                element.style.top = (startY - yCoor) + "px";

                console.log("left ^: " + xCoor + "px")
                console.log("top ^: " + yCoor + "px")

                if ( yCoor >= 0) {
                    requestAnimationFrame(animate);
                }
                else{
                    console.log("finished");
                }


            }

            requestAnimationFrame(animate);
        }

        // Example usage:
        $(document).ready(function(){
            moveElementAlongParabola("testDiv"); // 2 seconds duration
        });





    </script>
    <link rel="stylesheet" type="text/css" href="styles.css" />
<title>Page Title</title>
</head>
<body>
<div id="testDiv"></div>

</body>
</html>
